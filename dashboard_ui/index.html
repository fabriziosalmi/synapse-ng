<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synapse-NG Organism Dashboard</title>
    <link rel="stylesheet" href="styles/main-modern.css?v=4">
</head>
<body>
    <!-- ========== HEADER ========== -->
    <header class="organism-header">
        <div class="header-content">
            <div class="header-left">
                <div class="organism-logo">S</div>
                <div class="organism-title">
                    <h1>Synapse-NG Organism</h1>
                    <span class="subtitle">Consciousness Monitor</span>
                </div>
            </div>
            
            <div class="connection-status" id="connectionStatus">
                <span class="status-indicator"></span>
                <span class="status-text">Connecting...</span>
            </div>
            
            <button class="config-btn" id="configBtn">‚öôÔ∏è Settings</button>
        </div>
    </header>

    <!-- Main Container: Three Consciousness Panels -->
        <!-- ========== DASHBOARD PANELS ========== -->
    <main class="organism-dashboard">
        
        <!-- PANEL 1: Homeostatic System (Physical Health) -->
        <section class="consciousness-panel" id="homeostaticPanel">
            <div class="panel-header">
                <div class="panel-title">
                    <div class="panel-icon">ÔøΩ</div>
                    <div>
                        <h2>Homeostatic System</h2>
                        <p class="panel-subtitle">Network Health & Vital Signs</p>
                    </div>
                </div>
                <span class="panel-status active">Active</span>
            </div>
            
            <!-- Vital Signs Grid -->
            <div class="vital-signs-grid" id="vitalSignsGrid">

        <!-- PANEL 2: Nervous System (Coordination & Decisions) -->
        <section class="consciousness-panel" id="nervousPanel">
            <div class="panel-header">
                <div class="panel-title">
                    <div class="panel-icon">‚ö°</div>
                    <div>
                        <h2>Nervous System</h2>
                        <p class="panel-subtitle">Coordination & Decision Making</p>
                    </div>
                </div>
                <span class="panel-status active">Active</span>
            </div>
        
        <!-- PANEL 3: Evolutionary Genome (Long-term Thinking) -->
        <section class="consciousness-panel" id="evolutionaryPanel">
            <div class="panel-header">
                <div class="panel-title">
                    <div class="panel-icon">üß¨</div>
                    <div>
                        <h2>Evolutionary Genome</h2>
                        <p class="panel-subtitle">Self-Improvement & Code Evolution</p>
                    </div>
                </div>
                <span class="panel-status active">Active</span>
            </div>
            
            <div class="panel-content">
                <!-- Evolutionary Timeline -->
                <div class="evolution-timeline-section">
                    <h3 class="section-title">‚è±Ô∏è Evolutionary Timeline</h3>
                    <div class="timeline-container" id="evolutionTimeline">
                        <!-- Timeline events will be inserted here -->
                        <div class="empty-state">No code upgrades proposed yet</div>
                    </div>
                </div>

                <!-- Evolutionary Statistics -->
                <div class="evolution-stats">
                    <div class="stat-card">
                        <div class="stat-label">Total Code Generations</div>
                        <div class="stat-value" id="totalGenerations">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Successful Compilations</div>
                        <div class="stat-value" id="successfulCompilations">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Success Rate</div>
                        <div class="stat-value" id="successRate">0%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Code Upgrades Applied</div>
                        <div class="stat-value" id="appliedUpgrades">0</div>
                    </div>
                </div>

                <!-- Generated Solutions Viewer -->
                <div class="solutions-viewer-section">
                    <h3 class="section-title">üî¨ Proposed Cures</h3>
                    <div class="solutions-list" id="solutionsList">
                        <!-- Solutions will be inserted here -->
                        <div class="empty-state">No generated solutions pending review</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal: Proposal Details -->
    <div id="proposalModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Proposal Details</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Proposal details will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Modal: Vote Simulator -->
    <div id="voteSimulatorModal" class="modal">
        <div class="modal-content vote-simulator">
            <div class="modal-header">
                <h3>üó≥Ô∏è Contextual Vote Simulator</h3>
                <button class="modal-close" id="closeVoteSimulator">&times;</button>
            </div>
            <div class="modal-body">
                <div class="simulator-input">
                    <label for="voterNodeId">Your Node ID:</label>
                    <input type="text" id="voterNodeId" placeholder="node-1" />
                    <button id="calculateVoteWeight" class="btn-primary">Calculate My Influence</button>
                </div>
                <div class="simulator-results" id="simulatorResults">
                    <!-- Results will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Code Viewer -->
    <div id="codeViewerModal" class="modal">
        <div class="modal-content code-viewer">
            <div class="modal-header">
                <h3>üî¨ Generated Code</h3>
                <button class="modal-close" id="closeCodeViewer">&times;</button>
            </div>
            <div class="modal-body">
                <div class="code-info" id="codeInfo"></div>
                <pre><code id="codeContent" class="language-rust"></code></pre>
            </div>
        </div>
    </div>

    <!-- Modal: Configuration -->
    <div id="configModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚öôÔ∏è Connection Settings</h3>
                <button class="modal-close" id="closeConfig">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <div>
                        <label for="nodeEndpoint" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Node Endpoint:</label>
                        <input type="text" id="nodeEndpoint" value="http://localhost:8001" 
                               style="width: 100%; padding: 0.5rem; border: 1px solid var(--border-medium); border-radius: var(--radius-md); font-family: monospace;">
                    </div>
                    <button id="connectBtn" class="config-btn" style="padding: 0.75rem;">Connect</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="scripts/api-client.js?v=3"></script>
    <script src="scripts/health-monitor.js?v=3"></script>
    <script src="scripts/governance-monitor.js?v=3"></script>
    <script src="scripts/evolution-monitor.js?v=3"></script>
    <script src="scripts/vote-simulator.js?v=3"></script>
    <script src="scripts/main.js?v=3"></script>
</body>
</html>
