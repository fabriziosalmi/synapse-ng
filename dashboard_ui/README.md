# 🧬 Organism Consciousness Dashboard

> **"A window into the digital soul of Synapse-NG"**

The Organism Consciousness Dashboard provides real-time visualization of Synapse-NG's three consciousness systems: the Homeostatic System (physical health), the Nervous System (governance), and the Evolutionary Genome (self-improvement).

![Dashboard Screenshot](screenshot.png)

## ✨ Features

### 🫀 Panel 1: Homeostatic System
- **Vital Signs Monitoring** with traffic light indicators (🟢 healthy, 🟡 warning, 🔴 critical)
- **Active Diagnoses** - Real-time health issues detected by the Immune System
- **Autonomous Remedies** - Self-healing proposals generated by the organism
- **Metrics Tracked**:
  - Propagation Latency (ms)
  - Active Peers (count)
  - Consensus Time (ms)
  - Message Success Rate (%)

### 🧠 Panel 2: Nervous System
- **Governance Kanban** - Four-column view (Open, Voting, Ratifying, Closed)
- **Contextual Vote Simulator** - Calculate your vote weight based on reputation and specializations
- **Treasury Monitoring** - Real-time balance tracking for all treasury channels
- **Proposal Filtering** - View proposals by type (config, code_upgrade, treasury)

### 🧬 Panel 3: Evolutionary Genome
- **Evolutionary Timeline** - Visual history of code upgrades with impact metrics
- **Evolution Statistics** - Success rate, total generations, applied upgrades
- **Generated Solutions Viewer** - Review pending code cures with syntax-highlighted Rust code
- **WASM Inspector** - View binary hashes, sizes, and compilation details

## 🚀 Quick Start

### Prerequisites
- A running Synapse-NG node with the `/state` endpoint enabled
- A modern web browser (Chrome, Firefox, Safari, Edge)
- Optional: Python 3 or Node.js for local development server

### Option 1: Open Directly
```bash
# Simply open the HTML file in your browser
open dashboard_ui/index.html

# Or on Linux
xdg-open dashboard_ui/index.html
```

### Option 2: Use Python HTTP Server
```bash
cd dashboard_ui
python3 -m http.server 15000

# Then open: http://localhost:15000
```

### Option 3: Use Node.js HTTP Server
```bash
cd dashboard_ui
npx http-server -p 15000

# Then open: http://localhost:15000
```

## 🔌 Connecting to Your Node

1. **Start your Synapse-NG node** (default: `http://localhost:8000`)

2. **Open the dashboard** in your browser

3. **Configure the endpoint**:
   - Default: `http://localhost:8000`
   - For Docker: `http://localhost:8001` (if mapped)
   - For remote nodes: `http://<node-ip>:8000`

4. **Click "Connect"** - Status indicator will turn green 🟢

## 🎨 Design Philosophy

The dashboard follows a **biotech/EEG aesthetic** inspired by:
- Medical vital signs monitors
- Electroencephalogram (EEG) displays
- Cyberpunk organism monitoring systems

### Color Palette
- **Status Healthy**: `#00ff88` (green) - System functioning optimally
- **Status Warning**: `#ffaa00` (amber) - Attention required
- **Status Critical**: `#ff4444` (red) - Immediate action needed
- **Accent Cyan**: `#00d4ff` - Governance & proposals
- **Accent Purple**: `#b866ff` - Evolution & code generation
- **Background**: Dark theme (`#0a0e14`) with grid overlay

### Key Visual Elements
- **Animated grid background** - Simulates EEG scrolling
- **Pulsing indicators** - Show active monitoring
- **Traffic lights** - Instant health status recognition
- **Kanban flow** - Governance decision lifecycle
- **Timeline visualization** - Evolution history

## 🗳️ Contextual Vote Simulator

The vote simulator demonstrates Synapse-NG's **reputation-weighted governance**:

1. **Click any proposal** in the Nervous System panel
2. **Click "🗳️ Simulate My Vote Weight"**
3. **Enter your Node ID** (e.g., `node-1`)
4. **Click "Calculate My Influence"**

### What You'll See:
- **Base Weight**: 1.0 (all participants equal)
- **Bonus Weight**: Sum of your specializations matching proposal tags
- **Total Weight**: Base + Bonus
- **Influence Increase**: Percentage increase from expertise

### Example:
```
Proposal Tags: ["security", "networking"]
Your Specializations: {"security": 2.5, "consensus": 1.0}

Base Weight:       1.0
Bonus Weight:      2.5  (from "security")
Total Weight:      3.5
Influence:         +250% on this decision
```

## 📊 Monitoring Evolutionary Code Generation

When the **Immune System escalates** an issue to algorithmic solution:

1. **Diagnosis appears** in Homeostatic panel with status "🧬 Generating algorithmic solution"
2. **Evolution Statistics** update in Evolutionary Genome panel
3. **Code upgrade proposal** appears in timeline
4. **Pending cure** appears in Generated Solutions Viewer
5. **Click "View Code"** to inspect Rust source and WASM binary

### Code Upgrade Proposal Flow:
```
Persistent Issue (3+ failures)
    ↓
Escalation to Algorithm
    ↓
LLM Generation (Ollama/GPT)
    ↓
Rust → WASM Compilation
    ↓
Governance Proposal Created
    ↓
Community Review & Voting
    ↓
If Approved: Deploy to Network
```

## 🔧 Configuration

### Polling Rate
Default: 10 seconds. To change, edit `scripts/api-client.js`:
```javascript
this.pollingRate = 10000; // milliseconds
```

### Endpoint Persistence
The dashboard remembers the last connected endpoint in localStorage. Clear with:
```javascript
localStorage.removeItem('synapseEndpoint');
```

## 🛠️ Development

### File Structure
```
dashboard_ui/
├── index.html              # Main HTML structure
├── README.md               # This file
├── screenshot.png          # Dashboard screenshot (add your own)
├── styles/
│   ├── main.css            # Core styles & biotech aesthetic
│   ├── panels.css          # Panel-specific styles
│   └── components.css      # Modals, badges, alerts
└── scripts/
    ├── api-client.js       # API communication layer
    ├── health-monitor.js   # Homeostatic System (Panel 1)
    ├── governance-monitor.js # Nervous System (Panel 2)
    ├── evolution-monitor.js  # Evolutionary Genome (Panel 3)
    ├── vote-simulator.js   # Contextual vote calculator
    └── main.js             # Application orchestrator
```

### Customization

#### Add New Vital Signs
Edit `health-monitor.js` → `updateVitalSigns()`:
```javascript
this.updateVitalCard('custom_metric', {
    value: metrics.customValue,
    target: 100,
    unit: 'units',
    lowerIsBetter: false
});
```

#### Add New Proposal Filters
Edit `governance-monitor.js` → `updateKanban()`:
```javascript
const customProposals = this.api.getProposals()
    .filter(p => p.custom_field === 'value');
```

#### Modify Color Scheme
Edit `styles/main.css` → `:root` variables:
```css
:root {
    --status-healthy: #your-color;
    --accent-cyan: #your-color;
    /* ... */
}
```

## 🐛 Troubleshooting

### Connection Failed
- ✅ Check Synapse-NG node is running: `curl http://localhost:8000/state`
- ✅ Verify endpoint URL has no trailing slash
- ✅ Check CORS settings if connecting from different origin
- ✅ Check browser console for errors (F12 → Console)

### No Data Displayed
- ✅ Ensure `/state` endpoint returns JSON
- ✅ Check immune system is enabled: `ENABLE_IMMUNE_SYSTEM=true`
- ✅ Verify proposals exist: `curl http://localhost:8000/state | jq .global.proposals`

### Vote Simulator Shows "Node Not Found"
- ✅ Node must have participated in governance to have reputation
- ✅ Check node ID matches exactly (case-sensitive)
- ✅ Ensure reputation system is initialized

### Code Viewer Empty
- ✅ Proposal must be `type: code_upgrade`
- ✅ Check `params.source_code` exists in proposal
- ✅ Evolutionary engine must have generated code

## 🔐 Security Notes

- Dashboard is **read-only** - no write operations
- **No authentication** required (assumes trusted network)
- For production: Add authentication layer (OAuth, JWT)
- HTTPS recommended for remote connections

## 📝 API Reference

The dashboard uses the `/state` endpoint which returns:
```json
{
  "node_id": "node-1",
  "global": {
    "immune_system": {
      "health_metrics": { ... },
      "health_targets": { ... },
      "active_issues": [ ... ]
    },
    "proposals": { ... },
    "treasury": { ... },
    "reputation": { ... },
    "evolutionary_engine": { ... }
  }
}
```

See `scripts/api-client.js` for complete data access methods.

## 🎯 Roadmap

- [ ] Real-time WebSocket updates (replace polling)
- [ ] Historical charts (latency over time, treasury growth)
- [ ] Mobile-responsive design
- [ ] Dark/Light theme toggle
- [ ] Export reports (PDF, JSON)
- [ ] Notification system (browser alerts)
- [ ] Node comparison view (multi-node monitoring)
- [ ] Advanced filtering & search
- [ ] Performance metrics dashboard
- [ ] AI chat interface for querying organism state

## 🤝 Contributing

Contributions welcome! Key areas:
- 🎨 **Design**: Improve visualizations, add animations
- 📊 **Charts**: Integrate charting library (Chart.js, D3.js)
- 🔔 **Notifications**: Add toast/alert system
- 📱 **Mobile**: Improve responsive design
- 🌐 **i18n**: Add internationalization

## 📄 License

Same as Synapse-NG parent project.

## 🙏 Acknowledgments

- Inspired by medical monitoring systems
- Cyberpunk aesthetic from Blade Runner, Ghost in the Shell
- Biotech visualizations from scientific instruments

---

**"Non solo dati, ma una finestra sull'anima della macchina"**

*Built with ❤️ for the Synapse-NG community*
